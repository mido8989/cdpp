<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hyundaimotors.hmb.cdppapp.mapper.IFHMBINNOCEANCDPP0002Mapper">
    

    <insert id="InsertInboundContactWorkflow" parameterType="IFHMBINNOCEANCDPP0002Dto" useGeneratedKeys="true" keyProperty="rowId" keyColumn="row_id">
        INSERT INTO landing.s_contact(
            integration_id
            , x_cpf
            , fst_name
            , last_name
            , birth_dt
            , sex_mf
            , home_ph_num
            , work_ph_num
            , cell_ph_num
            , email_addr
            , pref_comm_meth_cd
            , marital_stat_cd
            , suppress_call_flg
            , suppress_mail_flg
            , suppress_email_flg
            , x_printed_card
            , created
            , created_by
            , last_upd
            , last_upd_by
        ) VALUES (
            #{integrationId}
            , #{cpf}
            , #{firstName}
            , #{lastName}
            , to_date(#{birthDate},'YYYY-MM-DD')
            , #{gender}
            , #{homePhone}
            , #{workPhone}
            , #{cellPhone}
            , #{emailAddress}
            , #{wayOfContact}
            , #{maritalStatus}
            , #{suppressAllCalls}
            , #{suppressAllMailings}
            , #{suppressAllEmails}
            , #{printedCard}
            , now()
            , 'interface'
            , now()
            , 'interface'
        );
    </insert>
        <insert id="InsertSContactXDto" parameterType="IFHMBINNOCEANCDPP0002Dto">
        INSERT INTO landing.s_contact_x(
            par_row_id
            , attrib_50
            , attrib_34
            , attrib_36
            , attrib_49
            , x_called_by
            , x_literacy
            , x_seg_behavioral
            , x_seg_value
            , x_seg_google
            , x_seg_facebook
            , x_seg_life_cycle
            , x_seg_interest
            , x_loyalty_optin_flg
            , created_by
            , created
            , last_upd_by
            , last_upd
        ) VALUES (
            #{rowId}
            , #{source}
            , #{occupation}
            , #{income}
            , #{carOfInterest}
            , #{calledBy}
            , #{literacy}
            , #{behavioralSegment}
            , #{valueSegment}
            , #{googleSegment}
            , #{facebookSegment}
            , #{lifeCycleSegment}
            , #{interestSegment}
            , #{contactOptIn}
            , 'interface'
            , now()
            , 'interface'
            , now()
        );
    </insert>

    <insert id="InsertSContactXMDtoList" parameterType="java.util.List">
        INSERT INTO landing.s_contact_xm(
            par_row_id
            , type
            , x_name
            , name
            , x_vehicle_year_model
            , x_vehicle_intent_change
            , x_is_current_flg
            , x_model
            , attrib_14
            , x_vehicle_cli_expec_val
            , created_by
            , created
            , last_upd_by
            , last_upd
        ) VALUES 
        <foreach collection="list" item="item" separator=",">
        (
            #{item.parRowId}
            , 'N'
            , #{item.name}
            , #{item.name}
            , #{item.yearModel}
            , #{item.intentionToChange}
            , #{item.isCurrent}
            , #{item.carModel}
            , #{item.mileage}
            , #{item.clientExpectedValue}
            , 'interface'
            , now()
            , 'interface'
            , now()
        )
        </foreach>
    </insert>

    <insert id="transferContact" statementType="CALLABLE" parameterType="hashMap">
        call process.interface_proc_con(#{PARAM_ID,jdbcType=VARCHAR,mode=IN});
    </insert>
</mapper>
